<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="btn">submit</button>
    <div id="output"></div>
</body>
<script>

    let button = document.getElementById('btn');
    button.addEventListener("click", async () => {
        try {
            let response = await fetch('https://jsonplaceholder.typicode.com/todos/1');
            let resjson = await response.json();
            let output = document.getElementById("output");

            // Clear previous output
            output.innerHTML = '';

            // Use a loop to print all key-value pairs
            for (const key in resjson) {
                output.innerHTML += `<p><strong>${key}:</strong> ${resjson[key]}</p>`;
            }
        } catch (error) {
            console.error("Error fetching data:", error);
        }
    });


    // async and await using the normal function and try and catch
    async function fetchData() {
        try {
            let respond = await fetch('https://jsonplaceholder.typicode.com/todos/1');
            let showjson = await respond.json();
            console.log(showjson);
        } catch (error) {
            console.error(error);
        }
    } fetchData();

    // async and await using the arrow function and try and catch

    (async () => {
        try {
            let response = await fetch('https://jsonplaceholder.typicode.com/todos/1');
            let resjson = await response.json();
            console.log(resjson); // Log the result to the console
        } catch (error) {
            console.error('Error fetching data:', error);
        }
    })();


    // using then and denable
    fetch('https://jsonplaceholder.typicode.com/posts/3')
        .then(response => response.json())
        .then(json => console.log(json))


        // without the try and catch 
        (async () => {
            const response = await fetch("https://jsonplaceholder.typicode.com/users/1")
            const responseJson = await response.json()
            console.log(responseJson);
        })();

</script>

</html>